powerpc-utils-1.2.8
=====================================================================

commit 919c43c7dab08af0858e571d37cce2f6d1d22dc0
Author: Nathan Fontenot <nfont@austin.ibm.com>
Date:   2011-03-23

    The snap man page indicates that the file /var/log/platform
    is collected.  This is not always true and can cause some confusion
    since the file does not exist on newer systems.  To avoid confusing
    users who might think the file should be collected, remove it
    from the man page listing of files.
    
    The /var/log/platform file is where the rtas_errd daemon used to write
    its data before the advent of servicelog.  On older systems that may
    still be running an older rtas_errd daemon (diagela package) this
    file would still exist so we should still try to collect it in the
    snap command if its present.
    
    Signed-off-by: Nathan Fontenot <nfont@austin.ibm.com>

 man/snap.8 |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit c26211793d4cb76bbff620d02a99c3885f62aa2e
Author: Robert Jennings <rcj@linux.vnet.ibm.com>
Date:   2011-03-23

    The 'really-clean' target is useful for cleaning up the repository but it
    also deletes the input makefiles so that you can't build again.  This
    change removes this part of the cleanup.
    
    Signed-off-by: Robert Jennings <rcj@linux.vnet.ibm.com>

 Makefile.am |    3 ---
 Makefile.in |    4 ----
 2 files changed, 0 insertions(+), 7 deletions(-)

commit 6ebd28e670879945b3bcef6399175ba03c1816b2
Author: Robert Jennings <rcj@linux.vnet.ibm.com>
Date:   2011-03-23

    Fixing a few makefile errors that caused installation of the README and
    COPYRIGHT files to be installed and uncomment those files in the spec
    file so that they are shipped.
    
    Signed-off-by: Robert Jennings <rcj@linux.vnet.ibm.com>

 addon/Makefile                         |    3 ++-
 addon/powerpc-utils-sles10-addons.spec |    4 ++--
 2 files changed, 4 insertions(+), 3 deletions(-)

commit fa91d2e335631d15950b1108ee1799478e9cddc3
Author: Robert Jennings <rcj@linux.vnet.ibm.com>
Date:   2011-03-23

    Adding .gitignore to specify intentionally untracked files to ignore.
    
    Signed-off-by:Robert Jennings <rcj@linux.vnet.ibm.com>

 .gitignore |   96 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 96 insertions(+), 0 deletions(-)
 create mode 100644 .gitignore

commit 64b2672bdf65e906b3121e9c3293fd4b271a2568
Author: Robert Jennings <rcj@linux.vnet.ibm.com>
Date:   2011-03-23

    The Makefile in the addon directory looks for
    powerpc-utils-sles10-addons.spec but the file is currently named
    powerpc-utils-addon.spec.  This patch moves the file to the name
    specified in the Makefile.
    
    Signed-off-by: Robert Jennings <rcj@linux.vnet.ibm.com>

 addon/powerpc-utils-addon.spec         |   63 --------------------------------
 addon/powerpc-utils-sles10-addons.spec |   63 ++++++++++++++++++++++++++++++++
 2 files changed, 63 insertions(+), 63 deletions(-)
 delete mode 100644 addon/powerpc-utils-addon.spec
 create mode 100644 addon/powerpc-utils-sles10-addons.spec

commit 4f1d829e65bf240329f6130bf74c7eaa6fc3a8ab
Author: Brian King <brking@linux.vnet.ibm.com>
Date:   2011-03-23

    Since vscsiadmin and its related tools only apply to the legacy
    ibmvscsis driver, lets stop installing it everywhere, since it
    will only lead to confusion. Customers who are running with a
    Linux distribution which includes the ibmvscsis driver can manually
    install these scripts if necessary.
    
    Signed-off-by: Brian King <brking@linux.vnet.ibm.com>

 man/Makefile.am       |    6 ++--
 man/Makefile.in       |    6 ++--
 powerpc-utils.spec.in |    9 ++---
 scripts/Makefile.am   |    9 +----
 scripts/Makefile.in   |   85 ++++++++++---------------------------------------
 5 files changed, 28 insertions(+), 87 deletions(-)

commit fa0649c82e7a02a92df6e0479b1eb39daff43d0e
Author: Robert Jennings <rcj@linux.vnet.ibm.com>
Date:   2011-03-09

    The get_bus_id function takes a location code and then searches
    /sys/bus/pci/slots/*/phy_location for a slot with the matching location
    code.  Without this patch the comparison only considers the characters
    up to the length of the input location which can cause a false match.
    For example, the following to would match.
    
    Input location: U5877.001.00H4031-P1
    False match:    U5877.001.00H4031-P10
                                       ^ Comparison stops here
    
    The length of the input is 23 characters and the first 23 characters
    are compared, this leaves off the last '0' on the string to compare and
    erroneously returns the wrong bus.
    
    In the case of a PHB remove operation, this can cause the incorrect slot
    (and associated devices) to be powered off.
    
    Signed-off-by: Robert Jennings <rcj@linux.vnet.ibm.com>

 src/drmgr/common_pci.c |   16 +++++++++++++++-
 1 files changed, 15 insertions(+), 1 deletions(-)

commit abb2829c4c3059abbde95b1433a42867196be692
Author: Nathan Fontenot <nfont@austin.ibm.com>
Date:   2011-03-09

    This patch is a pass at cleaning up the code to get rid of some
    of the warnings that are generated at build time.  There are no
    functional changes as part of this patch.
    
    Signed-off-by: Nathan Fontenot <nfont@austin.ibm.com>

 src/Makefile.in             |   88 ++++++++++++++++---------------------------
 src/drmgr/Makefile.in       |    7 ++-
 src/drmgr/common_cpu.c      |   10 ++--
 src/drmgr/common_ofdt.c     |    2 +-
 src/drmgr/common_pci.c      |   16 +++++---
 src/drmgr/dr.h              |   12 +++---
 src/drmgr/drmgr.c           |    2 +-
 src/drmgr/drmig_chrp_pmig.c |    2 +-
 src/drmgr/drslot_chrp_mem.c |    5 +-
 src/drmgr/ofdt.h            |    4 +-
 src/lparstat.c              |   28 ++++++++------
 src/ppc64_cpu.c             |    3 +-
 12 files changed, 84 insertions(+), 95 deletions(-)

commit 3439bec9cdd18c6407d88a10728cdc0eaa080e3c
Author: Nathan Fontenot <nfont@austin.ibm.com>
Date:   2011-03-09

    On newer systems the preference is to have the libraries linked
    against specified last in the call to ld.  The current setup of
    Makefiles causes the libraries to be listed towards the front of
    the ld command.
    
    The cause of this is that the current Makefile.am files use the
    XXX_LDFLAGS macro to specify the libraries to link with.  Instead
    it should be using the XXX_LDADD macro.  This patch corrects this.
    
    Signed-off-by: Nathan Fontenot <nfont@austin.ibm.com>

 src/Makefile.am       |   22 +++++++++++-----------
 src/drmgr/Makefile.am |    3 ++-
 2 files changed, 13 insertions(+), 12 deletions(-)

powerpc-utils-1.2.7
=====================================================================

commit c0a2b16c7cab44aa92544485760ee24bf8929235
Author: Nathan Fontenot <nfont@austin.ibm.com>
Date:   2011-02-18

    This patch updates the searching algorithm used for finding an available lmb
    to remove.  The new algorithm will try to add lmbs starting from the lowest
    address of the first lmb that can be added, and remove lmbs from the highest
    addressed lmb that can be removed. Previously, removes were done on the lowest
    addressed lmb that could be removed.  I think this update should help alleviate
    any possible fragmenting of the lmbs that can occur across multiple DLPAR
    add/remove operations.
    
    Signed-off-by: Nathan Fontenot <nfont@austin.ibm.com>

 src/drmgr/drslot_chrp_mem.c |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit e56f3fcfb1763868bb65812b3e170341f181ec2f
Author: Nathan Fontenot <nfont@austin.ibm.com>
Date:   2011-02-18

    Initial release of the lparstat command.
    
    Signed-off-by: Nathan Fontenot <nfont@austin.ibm.com>

 powerpc-utils.spec.in |    1 +
 src/Makefile.am       |    4 +-
 src/Makefile.in       |   18 ++-
 src/lparstat.c        |  489 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/lparstat.h        |  264 ++++++++++++++++++++++++++
 5 files changed, 770 insertions(+), 6 deletions(-)
 create mode 100644 src/lparstat.c
 create mode 100644 src/lparstat.h

commit 899ad734c1bc53f0767730b25cfc062d5d6be632
Author: Brian King <brking@linux.vnet.ibm.com>
Date:   2011-01-21

    Re-commit (fully this time) the lparcfg documentation.
    
    Signed-off-by: Brian King <brking@linux.vnet.ibm.com>
    Signed-off-by: Nathan Fontenot <nfont@austin.ibm.com>

 man/lparcfg.5 |  334 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 334 insertions(+), 0 deletions(-)
 create mode 100644 man/lparcfg.5

powerpc-utils-1.2.6
=====================================================================

commit afa9a6828ea879539844cc899db039ab2895a329
Author: Nathan Fontenot <nfont@austin.ibm.com>
Date:   2010-12-16

    Updates for release 1.2.6.
     - Bump version number to 1.2.6
     - Revert back to automake 1.10
    
    Signed-off-by: Nathan Fontenot <nfont@austin.ibm.com>

 Makefile.in           |  258 +++++++++--------------------
 configure             |  443 ++++++++++++++++++++-----------------------------
 configure.ac          |    2 +-
 man/Makefile.in       |  296 ++++++++++++++++-----------------
 scripts/Makefile.in   |  284 ++++++++++---------------------
 src/Makefile.in       |  231 ++++++++------------------
 src/drmgr/Makefile.in |  142 +++++-----------
 7 files changed, 604 insertions(+), 1052 deletions(-)

commit 447180fec3e22de2adcf1ff353c8ad2e65203817
Author: Nathan Fontenot <nfont@austin.ibm.com>
Date:   2010-12-16

    Update lsprop license to include CPL.
    
    Signed-off-by: Nathan Fontenot <nfont@austin.ibm.com>

 src/lsprop.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 540a2d36a196866836c9d26a268b55f1d6b965ee
Author: Brian King <brking@linux.vnet.ibm.com>
Date:   2010-12-13

    The /proc/ppc64/lparcfg file is cryptic and not well documented
    anywhere. Create a man page to document this for users.
    
    Signed-off-by: Brian King <brking@linux.vnet.ibm.com>

 man/Makefile.am       |    2 +-
 man/Makefile.in       |    2 +-
 powerpc-utils.spec.in |    1 +
 3 files changed, 3 insertions(+), 2 deletions(-)

commit b6d4043319cce24e20e9187a428e4e0c3f549ccb
Author: Nathan Fontenot <nfont@austin.ibm.com>
Date:   2010-12-13

    Trying to install the man pages causes a failure due to trying
    to install the man pages twice.  This was introduced when the use
    of dist_man_MANS was added to the man/Makefile.am file.  The autoconf
    tools merge the dist_man_MANS ans man_MANS list of files and tries to
    install all of them.
    
    The easy fix is to simply remove the man_MANS list from man/Makefile.am
    so that each man page is not listed twice.
    
    Signed-off-by: Nathan Fontenot <nfont@austin.ibm.com>

 man/Makefile.am |    6 ------
 man/Makefile.in |   20 +++++++-------------
 2 files changed, 7 insertions(+), 19 deletions(-)

commit 2f549c4907f065a9610d03c4866070f2373a730f
Author: Kamalesh Babulal <kamalesh@linux.vnet.ibm.com>
Date:   2010-12-13

    scripts: Fix usage() of ls-v{dev,eth,scsi} and lsdevinfo.
    
     - Prefix ':' to getops optstring to avoid complaining
       about invalid optional character.
    
     - Delete the long option(s) for help and version to reflect
       the options available in the man pages.
    
     - Remove :) case from cmdline parsing as option-argument
       with arugment is not passed.
    
    Signed-off-by: Kamalesh Babulal <kamalesh@linux.vnet.ibm.com>

 scripts/ls-vdev   |    8 +++-----
 scripts/ls-veth   |   10 ++++------
 scripts/ls-vscsi  |    7 ++++++-
 scripts/lsdevinfo |    4 ++--
 4 files changed, 15 insertions(+), 14 deletions(-)

commit 3d984296d0c60b3bac26034da7294316dcb4e39c
Author: Nathan Fontenot <nfont@austin.ibm.com>
Date:   2010-12-13

    The nvram verbose option should be able to be specified as -v
    and --verbose as is specified in the help message for the command.
    The getopt_long parsing did not allow for -v though.  This patch
    corrects that.
    
    Signed-off-by: Nathan Fontenot <nfont@austin.ibm.com>

 src/nvram.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit fdd4d749933986a6cb90f79571225d98382183c0
Author: Robert Jennings <rcj@linux.vnet.ibm.com>
Date:   2010-10-14

    Change drmgr to attempt to remove memory which may be held by a balloon
    driver.  This change ignores the 'removable' flag if AMS and CMM are
    active.
    
    The memory balloon driver (CMM) for active memory sharing (AMS) makes use
    of a new 'memory isolate kernel notifier' along with the 'memory hotplug
    notifier' to free pages which are not migratable.  To make use of this,
    drmgr must attempt to remove memory which would have not have the sysfs
    'removable' flag set.
    
    Signed-off-by: Robert Jennings <rcj@linux.vnet.ibm.com>

 src/drmgr/common.c          |   23 +++++++++++++++++++++++
 src/drmgr/dr.h              |    2 ++
 src/drmgr/drslot_chrp_mem.c |    9 ++++++---
 3 files changed, 31 insertions(+), 3 deletions(-)

commit 828424347e5162b3395e0efe57fd4f7f54b09fad
Author: Kamalesh Babulal <kamalesh@linux.vnet.ibm.com>
Date:   2010-10-05

    This patch fixes the typo in -V option of the ofpathname
    man page.
    
    Signed-off-by: Kamalesh Babulal <kamalesh@linux.vnet.ibm.com>

 man/ofpathname.8 |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c20b2c003ef582445c1d947a770ef4e25fbc9c48
Author: Murillo Fernandes Bernardes <bernarde@br.ibm.com>
Date:   2010-10-05

    cpu_freq[i] is initialized after setup_counters is called, therefore
    setup_counters will always fails if the system is in SMT 2 or SMT off.
    This patch makes setup_counters verify directly if the cpu is online or
    not.
    
    Signed-off-by: Murillo Fernandes Bernardes <bernarde@br.ibm.com>

 src/ppc64_cpu.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 229ee5d226e90400e239d6b1dfdc43aa60099d4b
Author: Nathan Fontenot <nfont@austin.ibm.com>
Date:   2010-10-05

    Configure updates to not check for servicelog.
    
    Signed-off-by: Nathan Fontenot <nfont@austin.ibm.com>

 configure    |   82 +--------------------------------------------------------
 configure.ac |    5 +---
 2 files changed, 3 insertions(+), 84 deletions(-)

commit b7c309a78db9fb6ce00a9b62060e770513276653
Author: Nathan Fontenot <nfont@austin.ibm.com>
Date:   2010-10-05

    Remove the logging of migration/hibernation events.  This is now done
    in the DynamicRM package.
    
    Signed-off-by: Nathan Fontenot <nfont@austin.ibm.com>

 src/drmgr/drmig_chrp_pmig.c |   63 -------------------------------------------
 1 files changed, 0 insertions(+), 63 deletions(-)

commit d015941002ac06fabb27e318bd8d7bc99f990a17
Author: Brian King <brking@linux.vnet.ibm.com>
Date:   2010-08-17

    Fixes issues with DLPAR on P7 platforms that do not support physical hotplug
    DR operations.
    
    Signed-off-by: Brian King <brking@linux.vnet.ibm.com>

 src/drmgr/drslot_chrp_phb.c |  164 +++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 164 insertions(+), 0 deletions(-)

commit 3fe80c2f9b490a520fbb47d2166034dc4da83a79
Author: Nathan Fontenot <nfont@austin.ibm.com>
Date:   2010-08-04

    Update to automake 1.11 try 2.
    
    Signed-off-by: Nathan Fontenot <nfont@austin.ibm.com>

 Makefile.in           |  258 +++++++++++++++++++++---------
 configure             |  421 +++++++++++++++++++++++++++++-------------------
 man/Makefile.in       |  233 +++++++++++++++++-----------
 scripts/Makefile.in   |  284 +++++++++++++++++++++++-----------
 src/Makefile.in       |  231 +++++++++++++++++++--------
 src/drmgr/Makefile.in |  142 ++++++++++++-----
 6 files changed, 1032 insertions(+), 537 deletions(-)

commit 2d4e0443555f3d131479bff42d5e42fb959259a2
Author: Nathan Fontenot <nfont@austin.ibm.com>
Date:   2010-08-04

    Initialize 'rc' variable so as to not use uninitialized.
    
    Signed-off-by: Nathan Fontenot<nfont@austin.ibm.com>

 Makefile.in                 |  258 ++++++++-------------------
 configure                   |  421 +++++++++++++++++--------------------------
 man/Makefile.in             |  233 ++++++++++---------------
 scripts/Makefile.in         |  284 +++++++++--------------------
 src/Makefile.in             |  231 +++++++-----------------
 src/drmgr/Makefile.in       |  142 +++++----------
 src/drmgr/drslot_chrp_phb.c |    4 +-
 7 files changed, 539 insertions(+), 1034 deletions(-)

commit 5586e8faa2232f2c8ec76ea2610f841822f490c5
Author: Nathan Fontenot <nfont@austin.ibm.com>
Date:   2010-08-04

    Update to use automake 1.11 along with defaulting to a silent
    build.  This will create build output similar to the Linux kernel.
    
    Signed-off-by: Nathan Fontenot <nfont@austin.ibm.com>

 Makefile.in           |  258 +++++++++++++++++++++---------
 configure             |  422 +++++++++++++++++++++++++++++-------------------
 configure.ac          |    3 +-
 man/Makefile.in       |  233 ++++++++++++++++-----------
 scripts/Makefile.in   |  284 +++++++++++++++++++++++-----------
 src/Makefile.in       |  231 +++++++++++++++++++--------
 src/drmgr/Makefile.in |  142 ++++++++++++-----
 7 files changed, 1035 insertions(+), 538 deletions(-)

commit 4b694eb0f283d2438fdba11014dc485697b8d72b
Author: Brian King <brking@linux.vnet.ibm.com>
Date:   2010-08-04

    Due to a recent change in the sysfs layout of memory sections for
    powerpc, the following change is needed to powerpc-utils to make
    memory hotplug work again.
    
    Signed-off-by: Brian King <brking@linux.vnet.ibm.com>
    Acked-by: Nathan Fontenot <nfont@austin.ibm.com>

 src/drmgr/drslot_chrp_mem.c |   19 +++++++++++++++----
 1 files changed, 15 insertions(+), 4 deletions(-)

commit a1e308ce5e4248cae80bdc84b06950af2416bb00
Author: Brad Peters <bpeters@linux.vnet.ibm.com>
Date:   2010-08-04

    Patch updates lscfg path to /usr/sbin, which is where this has been installing
    to since lsvpd-1.0 was released back in 2007.  Would be nice to auto-find the
    executable, but I'm not sure how we can do that (I'm open to suggestions).  At
    the least, this patch fixes usysident for all modern versions of lsvpd, and it
    does not make things worse than they were.
    
    Signed off by: Brad Peters <bpeters@linux.vnet.ibm.com>

 src/usysident.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)
